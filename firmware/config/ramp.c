#include "../../../CMSIS/m2sxxx.h"
#include "steptable.h"

#define CIS_10M_DEBUG	1

#if CIS_10M_DEBUG
static uint32_t	acc_table_300dpi_color[]=
{
	725500,
	750000,
	799000,
	799000,
	750000,
	725500,
	725500,
	725500,
	709500,
	693750,
	587750,
	481750,
	434750,
	387750,
	359750,
	331750,
	312500,
	293250,
	279250,
	265250,
	254500,
	243500,
	239000,
	230000,
	221750,
	214750,
	208000,
	201750,
	196000,
	190500,
	185500,
	181250,
	177000,
	172750,
	168750,
	165000,
	161500,
	158250,
	155250,
	152250,
	149250,
	146500,
	144000,
	141750,
	139250,
	137000,
	135000,
	133000,
	131000,
	129000,
	127000,
	125500,
	123500,
	122000,
	120750,
	119000,
	117500,
	116250,
	114750,
	113000,
	111250,
	109500,
	107500,
	105250,
	103750,
	101500,
	99500,
	97500,
	95500,
	93500,
	91500,
	89500,
	87500,
	85500,
	83500,
	81500,
	79500,
	77500,
	75500,
	74000,
	73000,
	72000,
	71000,
	70000,
	69000,
	68000,
	67000,
	66250,
	65250,
	64250,
	63250,
	62250,
	61250,
	60250,
	59250,
	58250,
	57250,
	56250,
	55250,
	54250,
	53250,
	52250,
	51250,
	50250,
	49250,
	48250,
	48080

};
#else
static uint32_t	acc_table_300dpi_color[]={
   	 519880,
	 519840,
	 519800,
	 519760,
	 519720,
	 519640,
	 519560,
	 519440,
	 519320,
	 519200,
	 519000,
	 518800,
	 518520,
	 518200,
	 517800,
	 517320,
	 516720,
	 516000,
	 515160,
	 514080,
	 512800,
	 511240,
	 509360,
	 507080,
	 504320,
	 501000,
	 497040,
	 492320,
	 486720,
	 480080,
	 472280,
	 463240,
	 452760,
	 440840,
	 427360,
	 412360,
	 395920,
	 378160,
	 359360,
	 339840,
	 319880,
	 299920,
	 280400,
	 261600,
	 243840,
	 227400,
	 212400,
	 198920,
	 187000,
	 176520,
	 167480,
	 159680,
	 153040,
	 147440,
	 142720,
	 138760,
	 135440,
	 132680,
	 130400,
	 128520,
	 126960,
	 125680,
	 124600,
	 123760,
	 123040,
	 122440,
	 121960,
	 121560,
	 121240,
	 120960,
	 120760,
	 120560,
	 120440,
	 120320,
	 120200,
	 120120,
	 120040,
	 120000,
	 120000,
	 120000  
};
#endif

struct motor_speedtable	motor_speed_acc_300dpi_color={	
	16, 		
	sizeof(acc_table_300dpi_color)/sizeof(uint32_t),	
	0,	
	520,	
	acc_table_300dpi_color
};

struct motor_speedtable	motor_speed_dec_300dpi_color={	
	16, 		
	sizeof(acc_table_300dpi_color)/sizeof(uint32_t),	
	520,	
	0,	
	acc_table_300dpi_color,
	DEC_RAMP_REVERSED
};

//============================
#if CIS_10M_DEBUG
static uint32_t	acc_table_300dpi_gray[]=
{
#if 1
	725500,
	737750,
	750000,
	762250,
	774500,
	786750,
	799000,
	811250,
	823750,
	811250,
	799000,
	786750,
	774500,
	762250,
	750000,
	737750,
	725500,
	725500,
	725500,
	725500,
	725500,
	725500,
	725500,
	725500,
	725500,
	721500,
	717500,
	713500,
	709500,
	705500,
	701750,
	697750,
	693750,
	667250,
	640750,
	614250,
	587750,
	561250,
	534750,
	508250,
	481750,
	470000,
	458250,
	446500,
	434750,
	423000,
	411250,
	399500,
	387750,
	380750,
	373750,
	366750,
	359750,
	352750,
	345750,
	338750,
	331750,
	327000,
	322000,
	317250,
	312500,
	307750,
	302750,
	298000,
	293250,
	289750,
	286250,
	282750,
	279250,
	275750,
	272250,
	268750,
	265250,
	262500,
	259750,
	257250,
	254500,
	251750,
	249000,
	246250,
	243500,
	241250,
	239000,
	236750,
	234500,
	232250,
	230000,
	227750,
	225500,
	223750,
	221750,
	220000,
	218250,
	216500,
	214750,
	212750,
	211000,
	209500,
	208000,
	206500,
	205000,
	203250,
	201750,
	200250,
	198750,
	197250,
	196000,
	194500,
	193250,
	191750,
	190500,
	189000,
	187750,
	186750,
	185500,
	184500,
	183250,
	182250,
	181250,
	180000,
	179000,
	178000,
	177000,
	175750,
	174750,
	173750,
	172750,
	171750,
	170500,
	169750,
	168750,
	167750,
	166750,
	165750,
	165000,
	164000,
	163000,
	162250,
	161500,
	160750,
	160000,
	159000,
	158250,
	157500,
	156750,
	156000,
	155250,
	154500,
	153750,
	153000,
	152250,
	151500,
	150500,
	150000,
	149250,
	148500,
	148000,
	147250,
	146500,
	146000,
	145250,
	144750,
	144000,
	143500,
	142750,
	142250,
	141750,
	141000,
	140500,
	140000,
	139250,
	138750,
	138250,
	137750,
	137000,
	136500,
	136000,
	135500,
	135000,
	134500,
	134000,
	133500,
	133000,
	132500,
	132000,
	131500,
	131000,
	130500,
	130000,
	129500,
	129000,
	128250,
	127750,
	127500,
	127000,
	126750,
	126250,
	126000,
	125500,
	125000,
	124750,
	124250,
	124000,
	123500,
	123250,
	122750,
	122500,
	122000,
	121750,
	121250,
	120750,
	120250,
	120000,
	119500,
	119000,
	118750,
	118250,
	118000,
	117500,
	117250,
	116750,
	116500,
	116250,
	115750,
	115500,
	115250,
	114750,
	114250,
	113750,
	113250,
	113000,
	112500,
	112000,
	111750,
	111250,
	111000,
	110500,
	110000,
	109500,
	109000,
	108500,
	108000,
	107500,
	107000,
	106500,
	106000,
	105250,
	105000,
	104500,
	104000,
	103750,
	103000,
	102500,
	102000,
	101500,
	101000,
	100500,
	100000,
	99500,
	99000,
	98500,
	98000,
	97500,
	97000,
	96500,
	96000,
	95500,
	95000,
	94500,
	94000,
	93500,
	93000,
	92500,
	92000,
	91500,
	91000,
	90500,
	90000,
	89500,
	89000,
	88500,
	88000,
	87500,
	87000,
	86500,
	86000,
	85500,
	85000,
	84500,
	84000,
	83500,
	83000,
	82500,
	82000,
	81500,
	81000,
	80500,
	80000,
	79500,
	79000,
	78500,
	78000,
	77500,
	77000,
	76500,
	76000,
	75500,
	75000,
	74500,
	74250,
	74000,
	73750,
	73500,
	73250,
	73000,
	72750,
	72500,
	72250,
	72000,
	71750,
	71500,
	71250,
	71000,
	70750,
	70500,
	70250,
	70000,
	69750,
	69500,
	69250,
	69000,
	68750,
	68500,
	68250,
	68000,
	67750,
	67500,
	67250,
	67000,
	66750,
	66500,
	66500,
	66250,
	66000,
	65750,
	65500,
	65250,
	65000,
	64750,
	64500,
	64250,
	64000,
	63750,
	63500,
	63250,
	63000,
	62750,
	62500,
	62250,
	62000,
	61750,
	61500,
	61250,
	61000,
	60750,
	60500,
	60250,
	60000,
	59750,
	59500,
	59250,
	59000,
	58750,
	58500,
	58250,
	58000,
	57750,
	57500,
	57250,
	57000,
	56750,
	56500,
	56250,
	56000,
	55750,
	55500,
	55250,
	55000,
	54750,
	54500,
	54250,
	54000,
	53750,
	53500,
	53250,
	53000,
	52750,
	52500,
	52250,
	52000,
	51750,
	51500,
	51250,
	51000,
	50750,
	50500,
	50250,
	50000,
	49750,
	49500,
	49250,
	49000,
	48750,
	48500,
	48250,
	48000,
	47750,
	47500,
	47250,
	47000,
	46750,
	46500,
	46250,
	46000,
	45750,
	45500,
	45250,
	45000,
	44750,
	44500,
	44250,
	44000,
	43750,
	43500,
	43250,
	43000,
	42750,
	42500,
	42250,
	42000,
	41750,
	41500,
	41250,
	41000,
	40750,
	40500,
	40250,
	40000,
	39750,
	39500,
	39250,
	39000,
	38750,
	38500,
	38250,
	38000,
	37750,
	37500,
	37250,
	37000,
	36750,
	36500,
	36250,
	36000,
	35750,
	35500,
	35250,
	35000,
	34750,
	34500,
	34250,
	34000,
	33750,
	33500,
	33250,
	33000,
	32750,
	32500,
	32250,
	32000,  
#else  
  
	725500,
	750000,
	799000,
	799000,
	750000,
	725500,
	725500,
	725500,
	709500,
	693750,
	587750,
	481750,
	434750,
	387750,
	359750,
	331750,
	312500,
	293250,
	279250,
	265250,
	254500,
	243500,
	239000,
	230000,
	221750,
	214750,
	208000,
	201750,
	196000,
	190500,
	185500,
	181250,
	177000,
	172750,
	168750,
	165000,
	161500,
	158250,
	155250,
	152250,
	149250,
	146500,
	144000,
	141750,
	139250,
	137000,
	135000,
	133000,
	131000,
	129000,
	127000,
	125500,
	123500,
	122000,
	120750,
	119000,
	117500,
	116250,
	114750,
	113000,
	111250,
	109500,
	107500,
	105250,
	103750,
	101500,
	99500,
	97500,
	95500,
	93500,
	91500,
	89500,
	87500,
	85500,
	83500,
	81500,
	79500,
	77500,
	75500,
	74000,
	73000,
	72000,
	71000,
	70000,
	69000,
	68000,
	67000,
	66250,
	65250,
	64250,
	63250,
	62250,
	61250,
	60250,
	59250,
	58250,
	57250,
	56250,
	55250,
	54250,
	53250,
	52250,
	51250,
	50250,
	49250,
	48250,
	47250,
	46250,
	45250,
	44250,
	43250,
	42250,
	41250,
	40250,
	39250,
	38250,
	37250,
	36250,
	35250,
	34250,
	33250,
	32250,
	32000,
#endif	

};
#else
static uint32_t	acc_table_300dpi_gray[]={
	519840,
	519800,
	519760,
	519720,
	519680,
	519600,
	519520,
	519400,
	519280,
	519120,
	518920,
	518680,
	518360,
	518040,
	517600,
	517040,
	516400,
	515600,
	514680,
	513480,
	512080,
	510360,
	508280,
	505800,
	502760,
	499120,
	494760,
	489560,
	483400,
	476080,
	467520,
	457560,
	446040,
	432920,
	418080,
	401600,
	383520,
	364000,
	343320,
	321800,
	299880,
	277920,
	256400,
	235720,
	216200,
	198120,
	181640,
	166800,
	153680,
	142160,
	132200,
	123640,
	116320,
	110160,
	104960,
	100600,
	96960,
	93920,
	91440,
	89360,
	87640,
	86240,
	85040,
	84120,
	83320,
	82680,
	82120,
	81680,
	81360,
	81040,
	80800,
	80600,
	80440,
	80320,
	80200,
	80120,
	80040,
	80000,
	80000,
	80000
};
#endif

struct motor_speedtable	motor_speed_acc_300dpi_gray={	
	16, 		
	sizeof(acc_table_300dpi_gray)/sizeof(uint32_t),	
	0,	
	781,	
	acc_table_300dpi_gray
};

struct motor_speedtable	motor_speed_dec_300dpi_gray={	
	16, 		
	sizeof(acc_table_300dpi_gray)/sizeof(uint32_t),	
	781,	
	0,	
	acc_table_300dpi_gray,
	DEC_RAMP_REVERSED
};

//============================
#if CIS_10M_DEBUG
static uint32_t	acc_table_cardmove[]=
{
#if 1
	725500,
	737750,
	750000,
	762250,
	774500,
	786750,
	799000,
	811250,
	823750,
	811250,
	799000,
	786750,
	774500,
	762250,
	750000,
	737750,
	725500,
	725500,
	725500,
	725500,
	725500,
	725500,
	725500,
	725500,
	725500,
	721500,
	717500,
	713500,
	709500,
	705500,
	701750,
	697750,
	693750,
	667250,
	640750,
	614250,
	587750,
	561250,
	534750,
	508250,
	481750,
	470000,
	458250,
	446500,
	434750,
	423000,
	411250,
	399500,
	387750,
	380750,
	373750,
	366750,
	359750,
	352750,
	345750,
	338750,
	331750,
	327000,
	322000,
	317250,
	312500,
	307750,
	302750,
	298000,
	293250,
	289750,
	286250,
	282750,
	279250,
	275750,
	272250,
	268750,
	265250,
	262500,
	259750,
	257250,
	254500,
	251750,
	249000,
	246250,
	243500,
	241250,
	239000,
	236750,
	234500,
	232250,
	230000,
	227750,
	225500,
	223750,
	221750,
	220000,
	218250,
	216500,
	214750,
	212750,
	211000,
	209500,
	208000,
	206500,
	205000,
	203250,
	201750,
	200250,
	198750,
	197250,
	196000,
	194500,
	193250,
	191750,
	190500,
	189000,
	187750,
	186750,
	185500,
	184500,
	183250,
	182250,
	181250,
	180000,
	179000,
	178000,
	177000,
	175750,
	174750,
	173750,
	172750,
	171750,
	170500,
	169750,
	168750,
	167750,
	166750,
	165750,
	165000,
	164000,
	163000,
	162250,
	161500,
	160750,
	160000,
	159000,
	158250,
	157500,
	156750,
	156000,
	155250,
	154500,
	153750,
	153000,
	152250,
	151500,
	150500,
	150000,
	149250,
	148500,
	148000,
	147250,
	146500,
	146000,
	145250,
	144750,
	144000,
	143500,
	142750,
	142250,
	141750,
	141000,
	140500,
	140000,
	139250,
	138750,
	138250,
	137750,
	137000,
	136500,
	136000,
	135500,
	135000,
	134500,
	134000,
	133500,
	133000,
	132500,
	132000,
	131500,
	131000,
	130500,
	130000,
	129500,
	129000,
	128250,
	127750,
	127500,
	127000,
	126750,
	126250,
	126000,
	125500,
	125000,
	124750,
	124250,
	124000,
	123500,
	123250,
	122750,
	122500,
	122000,
	121750,
	121250,
	120750,
	120250,
	120000,
	119500,
	119000,
	118750,
	118250,
	118000,
	117500,
	117250,
	116750,
	116500,
	116250,
	115750,
	115500,
	115250,
	114750,
	114250,
	113750,
	113250,
	113000,
	112500,
	112000,
	111750,
	111250,
	111000,
	110500,
	110000,
	109500,
	109000,
	108500,
	108000,
	107500,
	107000,
	106500,
	106000,
	105250,
	105000,
	104500,
	104000,
	103750,
	103000,
	102500,
	102000,
	101500,
	101000,
	100500,
	100000,
	99500,
	99000,
	98500,
	98000,
	97500,
	97000,
	96500,
	96000,
	95500,
	95000,
	94500,
	94000,
	93500,
	93000,
	92500,
	92000,
	91500,
	91000,
	90500,
	90000,
	89500,
	89000,
	88500,
	88000,
	87500,
	87000,
	86500,
	86000,
	85500,
	85000,
	84500,
	84000,
	83500,
	83000,
	82500,
	82000,
	81500,
	81000,
	80500,
	80000,
	79500,
	79000,
	78500,
	78000,
	77500,
	77000,
	76500,
	76000,
	75500,
	75000,
	74500,
	74250,
	74000,
	73750,
	73500,
	73250,
	73000,
	72750,
	72500,
	72250,
	72000,
	71750,
	71500,
	71250,
	71000,
	70750,
	70500,
	70250,
	70000,
	69750,
	69500,
	69250,
	69000,
	68750,
	68500,
	68250,
	68000,
	67750,
	67500,
	67250,
	67000,
	66750,
	66500,
	66500,
	66250,
	66000,
	65750,
	65500,
	65250,
	65000,
	64750,
	64500,
	64250,
	64000,
	63750,
	63500,
	63250,
	63000,
	62750,
	62500,
	62250,
	62000,
	61750,
	61500,
	61250,
	61000,
	60750,
	60500,
	60250,
	60000,
	59750,
	59500,
	59250,
	59000,
	58750,
	58500,
	58250,
	58000,
	57750,
	57500,
	57250,
	57000,
	56750,
	56500,
	56250,
	56000,
	55750,
	55500,
	55250,
	55000,
	54750,
	54500,
	54250,
	54000,
	53750,
	53500,
	53250,
	53000,
	52750,
	52500,
	52250,
	52000,
	51750,
	51500,
	51250,
	51000,
	50750,
	50500,
	50250,
	50000,
	49750,
	49500,
	49250,
	49000,
	48750,
	48500,
	48250,
	48000,
	47750,
	47500,
	47250,
	47000,
	46750,
	46500,
	46250,
	46000,
	45750,
	45500,
	45250,
	45000,
	44750,
	44500,
	44250,
	44000,
	43750,
	43500,
	43250,
	43000,
	42750,
	42500,
	42250,
	42000,
	41750,
	41500,
	41250,
	41000,
	40750,
	40500,
	40250,
	40000,
	39750,
	39500,
	39250,
	39000,
	38750,
	38500,
	38250,
	38000,
	37750,
	37500,
	37250,
	37000,
	36750,
	36500,
	36250,
	36000,
	35750,
	35500,
	35250,
	35000,
	34750,
	34500,
	34250,
	34000,
	33750,
	33500,
	33250,
	33000,
	32750,
	32500,
	32250,
	32000,  
#else  
	725500,
	750000,
	799000,
	799000,
	750000,
	725500,
	725500,
	725500,
	709500,
	693750,
	587750,
	481750,
	434750,
	387750,
	359750,
	331750,
	312500,
	293250,
	279250,
	265250,
	254500,
	243500,
	239000,
	230000,
	221750,
	214750,
	208000,
	201750,
	196000,
	190500,
	185500,
	181250,
	177000,
	172750,
	168750,
	165000,
	161500,
	158250,
	155250,
	152250,
	149250,
	146500,
	144000,
	141750,
	139250,
	137000,
	135000,
	133000,
	131000,
	129000,
	127000,
	125500,
	123500,
	122000,
	120750,
	119000,
	117500,
	116250,
	114750,
	113000,
	111250,
	109500,
	107500,
	105250,
	103750,
	101500,
	99500,
	97500,
	95500,
	93500,
	91500,
	89500,
	87500,
	85500,
	83500,
	81500,
	79500,
	77500,
	75500,
	74000,
	73000,
	72000,
	71000,
	70000,
	69000,
	68000,
	67000,
	66250,
	65250,
	64250,
	63250,
	62250,
	61250,
	60250,
	59250,
	58250,
	57250,
	56250,
	55250,
	54250,
	53250,
	52250,
	51250,
	50250,
	49250,
	48250,
	47250,
	46250,
	45250,
	44250,
	43250,
	42250,
	41250,
	40250,
	39250,
	38250,
	37250,
	36250,
	35250,
	34250,
	33250,
	32250,
	32000,
#endif	

};
#else
uint32_t	acc_table_cardmove[]={
	519840,
	519840,
	519800,
	519760,
	519720,
	519640,
	519600,
	519520,
	519440,
	519320,
	519200,
	519080,
	518920,
	518720,
	518480,
	518200,
	517880,
	517480,
	517040,
	516520,
	515880,
	515160,
	514280,
	513240,
	512040,
	510640,
	509000,
	507040,
	504760,
	502120,
	499040,
	495440,
	491280,
	486480,
	480920,
	474560,
	467320,
	459080,
	449760,
	439360,
	427760,
	415040,
	401120,
	386080,
	370040,
	353080,
	335480,
	317320,
	298960,
	280600,
	262440,
	244840,
	227880,
	211840,
	196800,
	182880,
	170160,
	158560,
	148160,
	138840,
	130600,
	123360,
	117000,
	111440,
	106640,
	102480,
	98880,
	95800,
	93160,
	90880,
	88920,
	87280,
	85880,
	84680,
	83640,
	82760,
	82040,
	81400,
	80880,
	80440,
	80040,
	79720,
	79440,
	79200,
	79000,
	78840,
	78720,
	78600,
	78480,
	78400,
	78320,
	78280,
	78200,
	78160,
	78160,
	78160
};
#endif

#if CIS_10M_DEBUG
uint32_t	dec_table_cardmove[]={
	32000,
	37750,
	42250,
	47000,
	52500,
	57500,
	62250,
	67500,
	72750,
	77000,
	82500,
	87000,
	92750,
	97750,
	102500,
	107500,
	112750,
	117750,
	122750,
	127500,
	132500,
	137250,
	142750,
	147250,
	152500,
	157750,
	162000,
	167750,
	172750,
	177250,
	182000,
	187500,
	192000,
	197500,
	202000,
	207500,
	212000,
	217500,
	222000,
	227500,
	232000,
	237500,
	242000,
	247500,
	252000,
	257500,
	262000,
	267500,
	272000,
	277500,
	282000,
	287500,
	292000,
	297500,
	302000,
	307500,
	312000,
	317500,
	322000,
	327500,
	332000,
	337500,
	342000,
	347500,
	352000,
	357500,
	362000,
	367500,
	372000,
	377500,
	382000,
	387500,
	392500,
	397500,
	402500,
	407500,
	452500,
	492500,
	542500,
	592500,
	642500,
	692500,
	725500,
  
};
#else

#endif
struct motor_speedtable	motor_speed_acc_cardmove={	
	16, 		
	sizeof(acc_table_cardmove)/sizeof(uint32_t),	
	0,	
	800,	
	acc_table_cardmove
};

struct motor_speedtable	motor_speed_dec_cardmove={	
	16, 		
	sizeof(dec_table_cardmove)/sizeof(uint32_t),	//sizeof(acc_table_cardmove)/sizeof(uint32_t),	
	800,	
	0,	
	dec_table_cardmove, //acc_table_cardmove,
	DEC_RAMP_SPECIFIC,//DEC_RAMP_REVERSED
};


